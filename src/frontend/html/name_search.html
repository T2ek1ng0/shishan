<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æŒ‰åç§°æ£€ç´¢</title>
    <link rel="stylesheet" href="../css/common.css">
</head>
<body>
    <div class="container">
        <button class="back-btn" onclick="goBack()" title="è¿”å›">â¬…</button>
        
        <h3>ğŸ¦ é¸Ÿåæ£€ç´¢</h3>
        <div class="form-group">
            <input id="name_input" type="text" placeholder="è¯·è¾“å…¥é¸Ÿç±»çš„åç§°ï¼ˆå¦‚ï¼šéº»é›€ï¼‰">
        </div>
        <div class="text-center">
            <button onclick="name_searcher()">ğŸ” å¼€å§‹æœç´¢</button>
        </div>
        
        <div id="name_result" class="mt-20" style="white-space: pre-wrap; line-height: 1.6; background: #f9f9f9; padding: 15px; border-radius: 5px; min-height: 100px;"></div>
    </div>

    <script>
          const { ipcRenderer } = require('electron')
          window.ipcRenderer = ipcRenderer

          async function name_searcher() {
              const name = document.getElementById("name_input").value.trim()
              const resultElement = document.getElementById("name_result")

              if (!name) {
                  resultElement.innerText = "è¯·è¾“å…¥é¸Ÿçš„åç§°"
                  return
              }

              // æ˜¾ç¤ºåŠ è½½æç¤º
              resultElement.innerText = "æ­£åœ¨æ£€ç´¢ä¸­ï¼Œè¯·ç¨å€™..."

              try {
                  const result = await ipcRenderer.invoke('name_searcher', name)
                  resultElement.innerText = result
              } catch (err) {
                  resultElement.innerText = `è°ƒç”¨å‡ºé”™ï¼š${err}`
              }
          }

          async function goBack() {
             await ipcRenderer.invoke('search_bird_newpage')
         }
    </script>
</body>
</html>