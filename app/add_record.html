<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>添加观鸟记录</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        label { display: block; margin-top: 10px; }
        input { width: 100%; padding: 5px; }
        button { margin-top: 20px; padding: 10px 20px; }
    </style>
</head>
<body>
<h2>添加观鸟记录</h2>
<form id="recordForm">
    <label>观测时间：
        <input type="datetime-local" id="time" required>
    </label>
    <label>地点：
        <input type="text" id="location" required>
    </label>
    <label>数量：
        <input type="number" id="count" required>
    </label>
    <label>种类：
        <input type="text" id="species" required>
    </label>
    <label>性别：
        <input type="text" id="gender" required>
    </label>
    <button type="submit">提交</button>
</form>

<script>
    const { ipcRenderer } = require('electron')
    const form = document.getElementById('recordForm')
    form.addEventListener('submit', async (e) => {
        e.preventDefault()
        const newRecord = {
            time: document.getElementById('time').value,
            location: document.getElementById('location').value,
            count: document.getElementById('count').value,
            species: document.getElementById('species').value,
            gender: document.getElementById('gender').value
        }
        await ipcRenderer.invoke('add_record', newRecord)
        window.close() // 关闭弹窗
    })
</script>
</body>
</html>
